@using Mehr
@model List<IranSoftjo.Package.WebUi.ViewModels.PaymentLogVM>
@{
    Layout = "~/Views/Shared/_LayoutAccount.cshtml";
    ViewBag.Title = "لیست  پرداخت ها";
}
<div>
    @(Html.Kendo().Grid(Model)
          .Name("Grid")
          .Columns(columns =>
                   {
                       columns.Bound(model => model.PaymentLogID).Width(50);
                       columns.Bound(model => model.Amount).Width(70).Format("{0:#,0 ریال}").FooterTemplate(@<text>جمع پرداختی : @string.Format("{0:#,0 ریال}", Model.Where(d=>d.IsSuccessful).Sum(d => d.Amount)).LocalizeNumbers()</text>);
                       columns.Bound(model => model.PaymentDate).Width(70);
                        columns.Bound(item => item.IsSuccessful).Title("وضعیت")
                            .Template(@<text>
    @if (item.IsSuccessful)
    {
        @:موفق
    }

    else
    {
        @:ناموفق
    }
    </text>).Width(60);
                       columns.Bound(model => model.OrderID).Width(100);
                       columns.Bound(model => model.TrackingCode).Width(80);
                       columns.Bound(model => model.PaymentTypeVal).Width(80);
                       columns.Bound(model => model.PaymentResponseMessage).Width(110);
                   })
          .Sortable()
          .Scrollable()
          .Filterable()
             .HtmlAttributes(new {style = "height:400px;"})     
          )
</div>
