@model List<IranSoftjo.Package.WebUi.ViewModels.ProductVM>
@{
    Layout = "~/Views/Shared/_LayoutBox.cshtml";
    ViewBag.Title = "محصولات";
}
<hgroup class="title">
    <h1>@ViewBag.Title</h1>
    <hr />
</hgroup>
@if (Model.Count == 0)
{
    <p style="color: red">هیچ موردی یافت نشد</p>
}
@foreach (var item in Model.OrderBy(d=>d.ProductGroup.ProductGroupOrder).Select(d => d.ProductGroupID).Distinct())
{
      <div class="block_up">
        <h3 class="header">@Model.FirstOrDefault(d=>d.ProductGroupID==item).ProductGroupTitle</h3>
    </div>
    Session["ListViewName"] = "ListViewName" + item;
    @Html.Partial("_CaptionHoverEffects", Model.Where(d => d.ProductGroupID == item).OrderByDescending(d => d.ProductOrder).ToList())
}
@Html.Partial("_ScriptProducts")


