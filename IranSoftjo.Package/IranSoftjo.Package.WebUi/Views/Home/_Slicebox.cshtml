@using IranSoftjo.Package.DataModel
@{
    var db = new Entities();
}
<link rel="stylesheet" type="text/css" href="~/Content/Slicebox/demo.css" />
<link rel="stylesheet" type="text/css" href="~/Content/Slicebox/slicebox.css" />
<link rel="stylesheet" type="text/css" href="~/Content/Slicebox/custom.css" />
<script type="text/javascript" src="~/Scripts/Slicebox/modernizr.custom.46884.js"></script>
<script type="text/javascript" src="~/Scripts/Slicebox/jquery.slicebox.js"></script>
<div style="width: 100%;">
    <div class="wrapper">
        <ul id="sb-slider" class="sb-slider">
            @foreach (var item in db.SlideShows)
            {
                <li>
                    <a href="@item.SlideShowHref" target="_blank">
                        <img src="@item.SlideShowImageUrl" alt="@item.SlideShowTitle" /></a>
                    <div class="sb-description">
                        <h3>@item.SlideShowTitle </h3>
                    </div>
                </li>
            }
        </ul>
        <div id="nav-arrows" class="nav-arrows">
            <a href="#">بعدی    </a>
            <a href="#">قبلی</a>
        </div>
        <div id="nav-dots" class="nav-dots">
            <span class="nav-dot-current"></span>
            @for (int i = 0; i < db.SlideShows.Count() -1 ; i++)
            {
                <span></span>
            } 
        </div>

        <div id="nav-options" class="nav-options">
            <span id="navPlay">اجرا</span>
            <span id="navPause">ایست</span>
        </div>
        <div id="shadow" class="shadow"></div>

    </div>
    <!-- /wrapper -->

    <script type="text/javascript">
        $(function () {

            var Page = (function () {

                var $navArrows = $('#nav-arrows').hide(),
                    $navDots = $('#nav-dots').hide(),
                    $navOptions = $('#nav-options').hide(),
                    $nav = $navDots.children('span'),
                    $shadow = $('#shadow').hide(),
                    slicebox = $('#sb-slider').slicebox({
                        onReady: function () {

                            $navArrows.show();
                            $navDots.show();
                            $navOptions.show();
                            $shadow.show();

                        },
                        cuboidsCount: 3,
                        orientation: 'v',
                        cuboidsRandom: true,
                        //disperseFactor : 30,
                        onBeforeChange: function (pos) {

                            $nav.removeClass('nav-dot-current');
                            $nav.eq(pos).addClass('nav-dot-current');

                        }
                    }),

                    init = function () {

                        initEvents();
                        slicebox.play();
                    },
                    initEvents = function () {
                        // add navigation events
                        $navArrows.children(':first').on('click', function () {

                            slicebox.next();
                            return false;

                        });

                        $navArrows.children(':last').on('click', function () {

                            slicebox.previous();
                            return false;

                        });
                        $('#navPlay').on('click', function () {

                            slicebox.play();
                            return false;

                        });

                        $('#navPause').on('click', function () {

                            slicebox.pause();
                            return false;

                        });
                        $nav.each(function (i) {

                            $(this).on('click', function (event) {

                                var $dot = $(this);

                                if (!slicebox.isActive()) {

                                    $nav.removeClass('nav-dot-current');
                                    $dot.addClass('nav-dot-current');

                                }

                                slicebox.jump(i + 1);
                                return false;

                            });

                        });

                    };

                return { init: init };

            })();

            Page.init();

        });
    </script>
</div>
